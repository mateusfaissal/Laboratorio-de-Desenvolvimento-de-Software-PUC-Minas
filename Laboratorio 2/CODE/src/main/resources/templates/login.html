<!DOCTYPE html>
<html
  xmlns:th="http://www.thymeleaf.org"
  xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
  th:replace="~{layout :: layout(~{::title}, ~{::main})}"
>
  <head>
    <title>Login - Sistema de Aluguel de Carros</title>
  </head>
  <body>
    <main>
      <div class="container">
        <div class="row justify-content-center">
          <div class="col-md-6">
            <div class="card shadow-lg border-0 my-5">
              <div
                class="card-header text-white position-relative"
                style="background: linear-gradient(45deg, #0062cc, #0069d9)"
              >
                <div
                  class="position-absolute"
                  style="top: 15px; right: 15px; opacity: 0.2"
                >
                  <i class="bi bi-shield-lock" style="font-size: 3rem"></i>
                </div>
                <h4 class="card-title mb-0 py-3">
                  <i class="bi bi-shield-lock me-2"></i>Login
                </h4>
              </div>
              <div class="card-body p-4">
                <div
                  th:if="${param.error}"
                  class="alert alert-danger alert-dismissible fade show mb-4"
                >
                  <i class="bi bi-exclamation-triangle-fill me-2"></i>
                  Usuário ou senha inválidos. Por favor, tente novamente.
                  <button
                    type="button"
                    class="btn-close"
                    data-bs-dismiss="alert"
                    aria-label="Close"
                  ></button>
                </div>
                <div
                  th:if="${param.logout}"
                  class="alert alert-success alert-dismissible fade show mb-4"
                >
                  <i class="bi bi-check-circle-fill me-2"></i>
                  Você foi desconectado com sucesso.
                  <button
                    type="button"
                    class="btn-close"
                    data-bs-dismiss="alert"
                    aria-label="Close"
                  ></button>
                </div>

                <div class="text-center mb-4">
                  <i
                    class="bi bi-car-front-fill text-primary"
                    style="font-size: 3rem"
                  ></i>
                  <h5 class="mt-2">Sistema de Aluguel de Carros</h5>
                  <p class="text-muted">Faça login para acessar o sistema</p>
                </div>

                <form
                  th:action="@{/login}"
                  method="post"
                  class="needs-validation"
                  novalidate
                >
                  <div class="mb-3">
                    <label for="username" class="form-label">
                      <i class="bi bi-person me-1"></i>Nome de usuário
                    </label>
                    <div class="input-group">
                      <span class="input-group-text bg-primary text-white"
                        ><i class="bi bi-person-fill"></i
                      ></span>
                      <input
                        type="text"
                        class="form-control"
                        id="username"
                        name="username"
                        placeholder="Digite seu nome de usuário"
                        required
                        autofocus
                      />
                      <div class="invalid-feedback">
                        Por favor, informe seu nome de usuário.
                      </div>
                    </div>
                  </div>
                  <div class="mb-4">
                    <label for="password" class="form-label">
                      <i class="bi bi-key me-1"></i>Senha
                    </label>
                    <div class="input-group">
                      <span class="input-group-text bg-primary text-white"
                        ><i class="bi bi-key-fill"></i
                      ></span>
                      <input
                        type="password"
                        class="form-control"
                        id="password"
                        name="password"
                        placeholder="Digite sua senha"
                        required
                      />
                      <div class="invalid-feedback">
                        Por favor, informe sua senha.
                      </div>
                    </div>
                  </div>
                  <div class="mb-4 form-check">
                    <input
                      type="checkbox"
                      class="form-check-input"
                      id="remember-me"
                      name="remember-me"
                    />
                    <label class="form-check-label" for="remember-me">
                      <i class="bi bi-clock-history text-muted me-1"></i
                      >Lembrar-me
                    </label>
                  </div>
                  <div class="d-grid gap-2">
                    <button type="submit" class="btn btn-primary btn-lg">
                      <i class="bi bi-box-arrow-in-right me-2"></i>Entrar
                    </button>
                  </div>
                </form>

                <div class="mt-4 text-center">
                  <p>
                    Não tem uma conta?
                    <a href="/registro" class="text-decoration-none fw-bold"
                      ><i class="bi bi-person-plus me-1"></i>Registre-se</a
                    >
                  </p>
                </div>
              </div>
              <div class="card-footer text-center text-muted py-3 bg-light">
                <small>&copy; 2023 Sistema de Aluguel de Carros</small>
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>
  </body>
</html>
